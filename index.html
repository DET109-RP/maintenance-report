<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Maintenance Weekly Report</title>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<style>
/* original CSS (kept) */
body { font-family:'Segoe UI',Arial,sans-serif; background:#fffef6; margin:0; padding:0; }
.header { background: linear-gradient(90deg,#fdd835,#ffee58); color:#333; padding:15px 25px;
         display:flex; justify-content:space-between; align-items:center; box-shadow:0 2px 6px rgba(0,0,0,0.15); }
.header h1 { margin:0; font-size:22px; font-weight:700; }
.tabs { background:#fffde7; padding:8px 15px; border-bottom:1px solid #f0e68c; text-align:center; }
.tab-btn { border:none; background:transparent; font-weight:600; padding:8px 14px; margin-right:6px; border-radius:5px; transition: all 0.2s; color:#795548; }
.tab-btn.active,.tab-btn:hover { background:#fdd835; color:#000; box-shadow:0 2px 4px rgba(0,0,0,0.15); }
.container-fluid { padding:20px 25px; }
.dash-box { border:2px solid #fdd835; border-radius:12px; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,0.1); padding:15px 20px; height:100%; }
.summary-table { font-size:13px; width:100%; text-align:center; border-collapse: collapse; margin-bottom:10px; }
.summary-table th,.summary-table td { border:1px solid #ddd; padding:4px; }
.summary-table th { background:#fffde7; font-weight:600; }
.table-wrapper {
  max-height: 70vh;
  overflow-y: auto;
  border: 1px solid #f0e68c;
  border-radius: 10px;
  background: #fff;
}

/* Gi·ªØ layout b·∫£ng ·ªïn ƒë·ªãnh khi scroll */
.table-wrapper table {
  table-layout: fixed;
  min-width: 800px;
  border-collapse: separate;
  border-spacing: 0;
}

/* --- C·∫•u h√¨nh ƒë·ªô r·ªông c·ªë ƒë·ªãnh cho b·∫£ng d·ªØ li·ªáu --- */
/* === CƒÉn ch·ªânh ch·ªØ chuy√™n nghi·ªáp theo lo·∫°i c·ªôt === */
.table-wrapper table th {
  text-align: center;
  vertical-align: middle;
  white-space: normal;
  word-wrap: break-word;
  font-weight: 600;
}

.table-wrapper table td {
  vertical-align: top;
  white-space: normal;
  word-wrap: break-word;
  padding: 4px 6px;
}

/* üü© CƒÉn tr√°i cho c√°c c·ªôt m√¥ t·∫£ */
.table-wrapper table td:nth-child(2),  /* Khu v·ª±c */
.table-wrapper table td:nth-child(3),  /* Thi·∫øt b·ªã */
.table-wrapper table td:nth-child(4),  /* T√¨nh tr·∫°ng */
.table-wrapper table td:nth-child(7),  /* ƒê√°nh gi√° */
.table-wrapper table td:nth-child(8),  /* K·∫ø ho·∫°ch */
.table-wrapper table td:nth-child(10)  /* Ghi ch√∫ */ {
  text-align: left;
}

/* üü¶ CƒÉn gi·ªØa cho c·ªôt s·ªë, tr·∫°ng th√°i, t·ªìn ƒë·ªçng, ·∫£nh */
.table-wrapper table td:nth-child(1),  /* STT */
.table-wrapper table td:nth-child(5),  /* Th·ªùi gian */
.table-wrapper table td:nth-child(6),  /* H√¨nh ·∫£nh */
.table-wrapper table td:nth-child(9),  /* Tr·∫°ng th√°i */
.table-wrapper table td:nth-child(11)  /* T·ªìn ƒë·ªçng */ {
  text-align: center;
}

/* üñº ·∫¢nh cƒÉn gi·ªØa tuy·ªát ƒë·ªëi */
.table-wrapper td .img-cell {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 100%;
  text-align: center;
}

/* C·∫•u h√¨nh ƒë·ªô r·ªông c·ªôt cho c√°c b·∫£ng Electrical & Mechanical */
.table-wrapper table th:nth-child(1),
.table-wrapper table td:nth-child(1) { width: 6%; }   /* STT */
.table-wrapper table th:nth-child(2),
.table-wrapper table td:nth-child(2) { width: 13%; }  /* Khu v·ª±c */
.table-wrapper table th:nth-child(3),
.table-wrapper table td:nth-child(3) { width: 15%; }  /* Thi·∫øt b·ªã */
.table-wrapper table th:nth-child(4),
.table-wrapper table td:nth-child(4) { width: 20%; }  /* T√¨nh tr·∫°ng */
.table-wrapper table th:nth-child(5),
.table-wrapper table td:nth-child(5) { width: 10%; }  /* Th·ªùi gian */
.table-wrapper table th:nth-child(6),
.table-wrapper table td:nth-child(6) { width: 14%; }  /* H√¨nh ·∫£nh */
.table-wrapper table th:nth-child(7),
.table-wrapper table td:nth-child(7) { width: 20%; }  /* ƒê√°nh gi√° */
.table-wrapper table th:nth-child(8),
.table-wrapper table td:nth-child(8) { width: 15%; }  /* K·∫ø ho·∫°ch */
.table-wrapper table th:nth-child(9),
.table-wrapper table td:nth-child(9) { width: 10%; }   /* Tr·∫°ng th√°i */
.table-wrapper table th:nth-child(10),
.table-wrapper table td:nth-child(10) { width: 15%; }  /* Ghi ch√∫ */
.table-wrapper table th:nth-child(11),
.table-wrapper table td:nth-child(11) { width: 10%; }  /* T·ªìn ƒë·ªçng */
.table-wrapper table th:nth-child(12),
.table-wrapper table td:nth-child(12) { width: 5%; }  /* Tu·∫ßn */


/* CƒÉn √¥ ƒë·ªÅu, kh√¥ng ƒë·ªÉ d·ªØ li·ªáu ch·ªìng header */
.table-wrapper td, .table-wrapper th {
  border: 1px solid #ddd;
  padding: 4px;
  white-space: break-word;
  vertical-align: top;
}

/* H√¨nh ·∫£nh trong b·∫£ng */
/* V√πng ch·ª©a ·∫£nh: cƒÉn gi·ªØa tuy·ªát ƒë·ªëi trong √¥ */
.table-wrapper td .img-cell {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 100%;
  text-align: center;
}

/* ·∫¢nh trong b·∫£ng */
.table-wrapper img.img-thumb {
  display: block;
  margin: 0 auto;
  border-radius: 6px;
  transition: transform 0.2s ease;
  cursor: pointer;
  max-width: 100px;
  height: auto;
  object-fit: contain;
}

.table-wrapper img.img-thumb:hover {
  transform: scale(1.8);
  transform-origin: center center;
  z-index: 10;
  position: relative;
}

/* Header c·ªë ƒë·ªãnh ƒë√∫ng v·ªã tr√≠ khi scroll */
.table-wrapper thead th {
  position: sticky;
  top: 0;
  background: #fdf3b7;
  z-index: 5;
  text-align: center;
  border-bottom: 2px solid #ddd;
}

.table tbody tr:hover { background:#fffde7; }
.chart-row { display:flex; justify-content:space-between; gap:8px; margin-top:10px; }
.chart-col { flex:1 1 48%; border-radius:10px; background:#fff; padding:4px; min-height:280px; overflow:hidden; text-align:center; display:flex; flex-direction:column; justify-content:center; align-items:center; }
.table-pair { display:flex; gap:10px; margin-top:10px; }
.table-half { flex:1; }
.table-half h6 { font-weight:600; text-align:center; margin-bottom:4px; }
.dash-box h4 { text-align: center; font-weight: 700; margin-bottom: 12px; }

/* SAFE OVERRIDES to prevent bootstrap from breaking layout */
.table.table-sm.table-bordered.align-middle {
  border-collapse: collapse;
  width: 100%;
  table-layout: fixed;
}
.table.table-sm.table-bordered.align-middle thead th {
  background:#fdf3b7 !important;
  position: sticky;
  top: 0;
  z-index: 2;
}
.table.table-sm.table-bordered.align-middle td,
.table.table-sm.table-bordered.align-middle th {
  border:1px solid #ddd;
  padding:4px;
  vertical-align: top;
  white-space: break-word;
}
.table.table-sm.table-bordered.align-middle img.img-thumb {
  width:100px;
  border-radius:6px;
}

/* === T√î N·ªÄN THEO TR·∫†NG TH√ÅI & T·ªíN ƒê·ªåNG (kh√¥ng ƒë·ªïi m√†u ch·ªØ) === */
/* C·ªôt Tr·∫°ng th√°i = c·ªôt th·ª© 9 sau khi ƒë√£ ·∫©n "Tu·∫ßn" */
.table-wrapper table td:nth-child(9):contains("Ch∆∞a ho√†n th√†nh") {
  background-color: #f8d7da !important; /* ƒë·ªè nh·∫°t */
}
.table-wrapper table td:nth-child(9):contains("ƒêang th·ª±c hi·ªán") {
  background-color: #d0ebff !important; /* xanh d∆∞∆°ng nh·∫°t */
}
.table-wrapper table td:nth-child(9):contains("ƒêang theo d√µi") {
  background-color: #fff9c4 !important; /* v√†ng nh·∫°t */
}

/* C·ªôt T·ªìn ƒë·ªçng = c·ªôt th·ª© 11, c√≥ k√Ω hi·ªáu x/X */
.table-wrapper table td:nth-child(11):contains("x"),
.table-wrapper table td:nth-child(11):contains("X") {
  background-color: #f8d7da !important; /* ƒë·ªè nh·∫°t */
}

</style>
</head>
<body>
<div class="header">
  <div>
    <h1>Maintenance Weekly Report</h1>
    <small>Generated: 05/11/2025 06:53</small>
  </div>
  <img src="https://drive.google.com/thumbnail?id=1EbBpSYDVFfWrJHiz3ZWdsfGOYZGvYT-I&sz=w1000" alt="Logo" height="60">
</div>
<div class="tabs">
  <button class="tab-btn active" onclick="showTab('dashboard', this)">Dashboard</button>
  <button class="tab-btn" onclick="showTab('electrical', this)">Electrical</button>
  <button class="tab-btn" onclick="showTab('mechanical', this)">Mechanical</button>
</div>
<div class="container-fluid">

<!-- small week selector (JS will populate) -->
<div style="text-align:right; margin-bottom:8px;">
  <label style="font-weight:600;">Ch·ªçn tu·∫ßn:</label>
  <select id="weekSelect" onchange="onWeekChange()"><option value="ALL">T·∫•t c·∫£</option></select>
</div>

<!-- =============== DASHBOARD =============== -->
<div id="dashboard" style="display:block;">

  <div class="row g-3">

    <!-- Electrical -->
    <div class="col-lg-6">
      <div class="dash-box">
        <h4>‚ö° Electrical</h4>

        <div class="table-pair" style="display:flex; gap:10px;">
          <div style="flex:1;">
            <h6 style="text-align:center; font-weight:600;">C√°c c√¥ng vi·ªác th·ª±c hi·ªán</h6>
            <!-- KPI table with ID -->
            <table id="kpi_e_table" class="summary-table">
              <thead>
                <tr><th>Tr·∫°ng th√°i</th><th>S·ªë l∆∞·ª£ng</th><th>T·ª∑ l·ªá</th></tr>
              </thead>
              <tbody>
                
                <tr><td>Ho√†n th√†nh</td><td>24</td><td>82.8%</td></tr>
                
                <tr><td>ƒêang theo d√µi</td><td>3</td><td>10.3%</td></tr>
                
                <tr><td>Ch∆∞a ho√†n th√†nh</td><td>1</td><td>3.4%</td></tr>
                
                <tr><td>ƒêang th·ª±c hi·ªán</td><td>1</td><td>3.4%</td></tr>
                
                <tr><td><b>T·ªïng</b></td><td colspan="2"><b>29</b></td></tr>
              </tbody>
            </table>
          </div>

        <div style="flex:1;">
            <h6 style="text-align:center; font-weight:600;">Issue theo khu v·ª±c</h6>
            <!-- Issue container with ID -->
            <div id="issue_e"><table class='summary-table'><tr><th>Khu v·ª±c</th><th>S·ªë l∆∞·ª£ng</th><th>T·ªìn ƒë·ªçng</th></tr><tr><td>Energy Plant</td><td>3</td><td>0</td></tr><tr><td>Press</td><td>16</td><td>0</td></tr><tr><td>Refiner</td><td>1</td><td style='color:red;font-weight:600;'>1</td></tr><tr><td>Sanding</td><td>2</td><td>0</td></tr><tr><td>Woodroom</td><td>7</td><td style='color:red;font-weight:600;'>1</td></tr><tr><td><b>T·ªïng</b></td><td><b>29</b></td><td><b style='color:red'>2</b></td></tr></table></div>
          </div>
        </div>

        <div class="chart-row">
          <div class="chart-col"><div id="pie_e_div"><div>                            <div id="b7594b87-5527-40c4-8054-7bdf7cbb21c0" class="plotly-graph-div" style="height:260px; width:280px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("b7594b87-5527-40c4-8054-7bdf7cbb21c0")) {                    Plotly.newPlot(                        "b7594b87-5527-40c4-8054-7bdf7cbb21c0",                        [{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"hole":0.4,"hovertemplate":"status=%{label}\u003cbr\u003ecount=%{value}\u003cextra\u003e\u003c\u002fextra\u003e","labels":["Ho√†n th√†nh","ƒêang theo d√µi","Ch∆∞a ho√†n th√†nh","ƒêang th·ª±c hi·ªán"],"legendgroup":"","name":"","showlegend":true,"values":[24,3,1,1],"type":"pie","textfont":{"size":12},"textinfo":"label+percent","textposition":"inside"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"legend":{"tracegroupgap":0,"orientation":"h","y":-0.25,"x":0.5,"xanchor":"center"},"title":{"text":"\u003cb\u003eTr·∫°ng th√°i c√¥ng vi·ªác\u003c\u002fb\u003e","x":0.5},"piecolorway":["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],"height":260,"width":280,"margin":{"t":30,"b":10,"l":10,"r":10}},                        {"responsive": true}                    )                };                            </script>        </div></div></div>
          <div class="chart-col"><div id="bar_e_div"><div>                            <div id="e36441c9-1d37-460c-a2c1-27549b9824e4" class="plotly-graph-div" style="height:260px; width:380px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("e36441c9-1d37-460c-a2c1-27549b9824e4")) {                    Plotly.newPlot(                        "e36441c9-1d37-460c-a2c1-27549b9824e4",                        [{"alignmentgroup":"True","hovertemplate":"Loai=T·ªìn ƒë·ªçng\u003cbr\u003eGiaTri=%{x}\u003cbr\u003eKhuVuc=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"T·ªìn ƒë·ªçng","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"T·ªìn ƒë·ªçng","offsetgroup":"T·ªìn ƒë·ªçng","orientation":"h","showlegend":true,"textposition":"outside","x":[0,0,1,0,1],"xaxis":"x","y":["Energy Plant","Press","Refiner","Sanding","Woodroom"],"yaxis":"y","type":"bar","textfont":{"color":"black","size":12},"textangle":0,"texttemplate":"\u003cb\u003e%{x}\u003c\u002fb\u003e"},{"alignmentgroup":"True","hovertemplate":"Loai=S·ªë l∆∞·ª£ng\u003cbr\u003eGiaTri=%{x}\u003cbr\u003eKhuVuc=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"S·ªë l∆∞·ª£ng","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"S·ªë l∆∞·ª£ng","offsetgroup":"S·ªë l∆∞·ª£ng","orientation":"h","showlegend":true,"textposition":"outside","x":[3,16,1,2,7],"xaxis":"x","y":["Energy Plant","Press","Refiner","Sanding","Woodroom"],"yaxis":"y","type":"bar","textfont":{"color":"black","size":12},"textangle":0,"texttemplate":"\u003cb\u003e%{x}\u003c\u002fb\u003e"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{},"showgrid":true,"gridcolor":"rgba(230,230,230,0.6)"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{},"categoryorder":"array","categoryarray":["Refiner","Sanding","Energy Plant","Woodroom","Press"],"tickfont":{"size":10}},"legend":{"title":{"text":"Loai"},"tracegroupgap":0,"orientation":"h","y":-0.25,"x":0.5,"xanchor":"center"},"title":{"text":"\u003cb\u003eIssue thi·∫øt b·ªã\u003c\u002fb\u003e","x":0.5},"barmode":"group","height":260,"width":380,"margin":{"t":40,"b":30,"l":100,"r":70},"plot_bgcolor":"white","paper_bgcolor":"white","bargap":0.35},                        {"responsive": true}                    )                };                            </script>        </div></div></div>
        </div>

      </div>
    </div>

    <!-- Mechanical -->
    <div class="col-lg-6">
      <div class="dash-box">
        <h4>‚öôÔ∏è Mechanical</h4>

        <div class="table-pair" style="display:flex; gap:10px;">
          <div style="flex:1;">
            <h6 style="text-align:center; font-weight:600;">C√°c c√¥ng vi·ªác th·ª±c hi·ªán</h6>
            <!-- KPI table with ID -->
            <table id="kpi_m_table" class="summary-table">
            <thead>
              <tr><th>Tr·∫°ng th√°i</th><th>S·ªë l∆∞·ª£ng</th><th>T·ª∑ l·ªá</th></tr>
            </thead>
            <tbody>
              
              <tr><td>Ho√†n th√†nh</td><td>14</td><td>66.7%</td></tr>
              
              <tr><td>ƒêang theo d√µi</td><td>6</td><td>28.6%</td></tr>
              
              <tr><td>Ch∆∞a ho√†n th√†nh</td><td>1</td><td>4.8%</td></tr>
              
              <tr><td><b>T·ªïng</b></td><td colspan="2"><b>21</b></td></tr>
            </tbody>
          </table>
          </div>

          <div style="flex:1;">
            <h6 style="text-align:center; font-weight:600;">Issue theo khu v·ª±c</h6>
            <!-- Issue container with ID -->
            <div id="issue_m"><table class='summary-table'><tr><th>Khu v·ª±c</th><th>S·ªë l∆∞·ª£ng</th><th>T·ªìn ƒë·ªçng</th></tr><tr><td>Energy Plant</td><td>5</td><td style='color:red;font-weight:600;'>2</td></tr><tr><td>Nh√† m√°y keo</td><td>2</td><td style='color:red;font-weight:600;'>2</td></tr><tr><td>Ph·ª• tr·ª£</td><td>1</td><td>0</td></tr><tr><td>Press</td><td>1</td><td>0</td></tr><tr><td>Refiner</td><td>4</td><td style='color:red;font-weight:600;'>2</td></tr><tr><td>Woodroom</td><td>8</td><td style='color:red;font-weight:600;'>2</td></tr><tr><td><b>T·ªïng</b></td><td><b>21</b></td><td><b style='color:red'>8</b></td></tr></table></div>
          </div>
        </div>

        <div class="chart-row">
          <div class="chart-col"><div id="pie_m_div"><div>                            <div id="d4555674-41b1-4d4e-ab7e-1a9765f25af4" class="plotly-graph-div" style="height:260px; width:280px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d4555674-41b1-4d4e-ab7e-1a9765f25af4")) {                    Plotly.newPlot(                        "d4555674-41b1-4d4e-ab7e-1a9765f25af4",                        [{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"hole":0.4,"hovertemplate":"status=%{label}\u003cbr\u003ecount=%{value}\u003cextra\u003e\u003c\u002fextra\u003e","labels":["Ho√†n th√†nh","ƒêang theo d√µi","Ch∆∞a ho√†n th√†nh"],"legendgroup":"","name":"","showlegend":true,"values":[14,6,1],"type":"pie","textfont":{"size":12},"textinfo":"label+percent","textposition":"inside"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"legend":{"tracegroupgap":0,"orientation":"h","y":-0.25,"x":0.5,"xanchor":"center"},"title":{"text":"\u003cb\u003eTr·∫°ng th√°i c√¥ng vi·ªác\u003c\u002fb\u003e","x":0.5},"piecolorway":["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],"height":260,"width":280,"margin":{"t":30,"b":10,"l":10,"r":10}},                        {"responsive": true}                    )                };                            </script>        </div></div></div>
          <div class="chart-col"><div id="bar_m_div"><div>                            <div id="33e1754d-bfea-4d2f-a48f-2820168aef8d" class="plotly-graph-div" style="height:260px; width:380px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("33e1754d-bfea-4d2f-a48f-2820168aef8d")) {                    Plotly.newPlot(                        "33e1754d-bfea-4d2f-a48f-2820168aef8d",                        [{"alignmentgroup":"True","hovertemplate":"Loai=T·ªìn ƒë·ªçng\u003cbr\u003eGiaTri=%{x}\u003cbr\u003eKhuVuc=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"T·ªìn ƒë·ªçng","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"T·ªìn ƒë·ªçng","offsetgroup":"T·ªìn ƒë·ªçng","orientation":"h","showlegend":true,"textposition":"outside","x":[2,2,0,0,2,2],"xaxis":"x","y":["Energy Plant","Nh√† m√°y keo","Ph·ª• tr·ª£","Press","Refiner","Woodroom"],"yaxis":"y","type":"bar","textfont":{"color":"black","size":12},"textangle":0,"texttemplate":"\u003cb\u003e%{x}\u003c\u002fb\u003e"},{"alignmentgroup":"True","hovertemplate":"Loai=S·ªë l∆∞·ª£ng\u003cbr\u003eGiaTri=%{x}\u003cbr\u003eKhuVuc=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"S·ªë l∆∞·ª£ng","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"S·ªë l∆∞·ª£ng","offsetgroup":"S·ªë l∆∞·ª£ng","orientation":"h","showlegend":true,"textposition":"outside","x":[5,2,1,1,4,8],"xaxis":"x","y":["Energy Plant","Nh√† m√°y keo","Ph·ª• tr·ª£","Press","Refiner","Woodroom"],"yaxis":"y","type":"bar","textfont":{"color":"black","size":12},"textangle":0,"texttemplate":"\u003cb\u003e%{x}\u003c\u002fb\u003e"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{},"showgrid":true,"gridcolor":"rgba(230,230,230,0.6)"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{},"categoryorder":"array","categoryarray":["Press","Ph·ª• tr·ª£","Nh√† m√°y keo","Refiner","Energy Plant","Woodroom"],"tickfont":{"size":10}},"legend":{"title":{"text":"Loai"},"tracegroupgap":0,"orientation":"h","y":-0.25,"x":0.5,"xanchor":"center"},"title":{"text":"\u003cb\u003eIssue thi·∫øt b·ªã\u003c\u002fb\u003e","x":0.5},"barmode":"group","height":260,"width":380,"margin":{"t":40,"b":30,"l":100,"r":70},"plot_bgcolor":"white","paper_bgcolor":"white","bargap":0.35},                        {"responsive": true}                    )                };                            </script>        </div></div></div>
        </div>

      </div>
    </div>

  </div>
</div>

<!-- =============== TAB ELECTRICAL =============== -->
<div id="electrical" style="display:none;">
  <div class="dash-box">
    <h4>‚ö° Electrical - Danh s√°ch thi·∫øt b·ªã</h4>

    <div class="table-wrapper mt-3" id="electricalTable"><table border="1" class="dataframe table table-sm table-bordered align-middle">
  <thead>
    <tr style="text-align: right;">
      <th>STT</th>
      <th>Khu v·ª±c</th>
      <th>Thi·∫øt b·ªã</th>
      <th>T√¨nh tr·∫°ng</th>
      <th>Th·ªùi gian</th>
      <th>H√¨nh ·∫£nh</th>
      <th>ƒê√°nh gi√°</th>
      <th>K·∫ø ho·∫°ch</th>
      <th>Tr·∫°ng th√°i</th>
      <th>Ghi ch√∫</th>
      <th>T·ªìn ƒë·ªçng</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Woodroom</td>
      <td>Chipper 1 kh√¥ng ho·∫°t ƒë·ªông</td>
      <td>Trip c·∫ßu ch√¨ 24V 1000-F523</td>
      <td>Th√°ng 4</td>
      <td><div class="img-cell"><img src="https://drive.google.com/uc?id=15lHPQ4Y2TvGwVTVR6C-YgOMBl6VJVSvv" class="img-thumb" /></div></td>
      <td>sensor d√≤ l·ªách belt 1941S107 b·ªã ch·∫°m ch·∫≠p m·ªôt ti·∫øp ƒëi·ªÉm v·ªÅ card Safety. Hi·ªán ƒëang bypass ti·∫øp ƒëi·ªÉm l·ªói</td>
      <td>Thay b·ªô d√≤ l√™ch belt kh√°c (b·ªô c≈© ti·∫øp ƒëi·ªÉm r·ªâ s√©t) v√† ki·ªÉm tra l·∫°i d√¢y</td>
      <td>ƒêang theo d√µi</td>
      <td>Ch∆∞a c√≥ v·∫≠t t∆∞</td>
      <td>x</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Refiner</td>
      <td>Sensor b√°o ngh·∫πt 2420</td>
      <td>B√°o l·ªói t√≠n hi·ªáu nhi·ªÅu l·∫ßn</td>
      <td>Th√°ng 7</td>
      <td><div class="img-cell"><img src="https://drive.google.com/uc?id=1UzIXUJKi4qCg2r97ZUPYap7ZC3IVaX8K" class="img-thumb" /></div></td>
      <td>Reset t√≠n hi·ªáu</td>
      <td>Board c√≥ d·∫•u hi·ªáu b·ªã r·ªâ ·ªü ch√¢n linh ki·ªán, d·ª´ng m√°y ki·ªÉm tra v·ªá sinh h√†n l·∫°i ch√¢n</td>
      <td>Ch∆∞a ho√†n th√†nh</td>
      <td>ƒêang ƒë·ªÅ xu·∫•t mua</td>
      <td>x</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Energy Plant</td>
      <td>Sensor ƒëo m·ª©c Dust Silo</td>
      <td>B√°o sai gi√° tr·ªã</td>
      <td>10/8/2025</td>
      <td><div class="img-cell"><img src="https://drive.google.com/thumbnail?id=1wnFq3lr9dPEbuoq9PoibplwQm26ql_Jp&sz=w1000" class="img-thumb" /></div></td>
      <td>Restart l·∫°i sensor</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>4</td>
      <td>Energy Plant</td>
      <td>Sensor b√°o m·ª©c dust silo</td>
      <td>B√°o sai gi√° tr·ªã</td>
      <td>10/8/2025</td>
      <td><div class="img-cell"><img src="https://drive.google.com/thumbnail?id=1LfoWT_pvDiNaBYgDtADkW1vmg-IE9mxO&sz=w1000" class="img-thumb" /></div></td>
      <td>Restart l·∫°i sensor</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>5</td>
      <td>Energy Plant</td>
      <td>Xilanh r√∫t li·ªáu Dust Silo</td>
      <td>Kh√¥ng ho·∫°t ƒë·ªông</td>
      <td>10/8/2025</td>
      <td></td>
      <td>V·ªá sinh ti·∫øp ƒëi·ªÉm c√¥ng t·∫Øc h√†nh tr√¨nh</td>
      <td>Kh√¥ng</td>
      <td>ƒêang th·ª±c hi·ªán</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>6</td>
      <td>Press</td>
      <td>Stack 5280</td>
      <td>ƒê·ªÖm sai s·ªë l∆∞·ª£ng v√°n</td>
      <td>10/4/2025</td>
      <td></td>
      <td>Sensor 5280B16 t√≠n hi·ªáu ch·∫≠p ch·ªùn, ƒë√£ ch·ªânh l·∫°i ƒë·ªô nh·∫°y sensor</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>7</td>
      <td>Press</td>
      <td>B·ªô ƒëo m·∫≠t ƒë·ªô th·∫£m SicoScan</td>
      <td>B·ªã ƒë∆° kh√¥ng ƒëo ƒë∆∞·ª£c</td>
      <td>10/4/2025</td>
      <td></td>
      <td>Reset l·∫°i b·ªô ƒëo</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>8</td>
      <td>Press</td>
      <td>M√†n h√¨nh v·∫≠n h√†nh OP3</td>
      <td>B·ªã ƒë∆° kh√¥ng thao t√°c ƒë∆∞·ª£c</td>
      <td>10/6/2025</td>
      <td></td>
      <td>Reset l·∫°i ngu·ªìn</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>9</td>
      <td>Press</td>
      <td>Stack 5280</td>
      <td>B√°o l·ªói safety</td>
      <td>10/6/2025</td>
      <td></td>
      <td>B·ª•i v√°n l√≥t l√†m nhi·ªÖu t√≠n hi·ªáu, v·ªá sinh reset l·∫°i t√≠n hi·ªáu</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>10</td>
      <td>Press</td>
      <td>B·ªô ƒëo thickness v√† blister</td>
      <td>Kh√¥ng ƒëo ƒë∆∞·ª£c</td>
      <td>10/6/2025</td>
      <td><div class="img-cell"><img src="https://drive.google.com/uc?id=13A5qqrHXOXxJYeXpzGg81oKKGGQ5nSzI" class="img-thumb" /></div></td>
      <td>T√≠n hi·ªáu sensor b√¨nh th∆∞·ªùng, v·ªá sinh b·ªÅ m·∫∑t sensor, reset l·∫°i t√≠n hi·ªáu</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>11</td>
      <td>Press</td>
      <td>B·ªô ƒëo m·∫≠t ƒë·ªô th·∫£m Sicoscan</td>
      <td>B·ªã ƒë∆° kh√¥ng ƒëo ƒë∆∞·ª£c</td>
      <td>10/6/2025</td>
      <td></td>
      <td>Reset l·∫°i b·ªô ƒëo</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>12</td>
      <td>Press</td>
      <td>Sensor d√≤ tia l·ª≠a Minimax outfeed</td>
      <td>B·ªã v√°n ƒë√¢m v√†o ƒë·ª©t d√¢y</td>
      <td>10/6/2025</td>
      <td></td>
      <td>N·ªëi l·∫°i d√¢y sensor</td>
      <td>Ki·ªÉm tra thay d√¢y m·ªõi do b·ªã v√°n ƒë√¢m ƒë·ª©t d√¢y nhi·ªÅu l·∫ßn</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>13</td>
      <td>Press</td>
      <td>B·ªô ƒëo m·∫≠t ƒë·ªô th·∫£m Sicoscan</td>
      <td>Kh√¥ng ho·∫°t ƒë·ªông</td>
      <td>10/8/2025</td>
      <td></td>
      <td>Reset l·∫°i b·ªô ƒëo</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>14</td>
      <td>Press</td>
      <td>Sensor 5275B16</td>
      <td>T√≠n hi·ªáu ch·∫≠p ch·ªùn</td>
      <td>10/8/2025</td>
      <td></td>
      <td>Ch·ªânh l·∫°i ƒë·ªô nh·∫°y sensor</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>15</td>
      <td>Press</td>
      <td>Stack 5280</td>
      <td>ƒê·∫øm sai s·ªë l∆∞·ª£ng v√°n</td>
      <td>10/8/2025</td>
      <td></td>
      <td>Ch·ªânh l·∫°i v·ªã tr√≠ sensor v√† ƒë·ªô nh·∫°y sensor</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>16</td>
      <td>Press</td>
      <td>C∆∞a c·∫Øt ngang s·ªë 2</td>
      <td>B√°o l·ªói axis cut fault</td>
      <td>10/8/2025</td>
      <td></td>
      <td>Ki·ªÉm tra reset l·∫°i t√≠n hi·ªáu c∆∞a</td>
      <td>D·ª´ng m√°y ki·ªÉm tra l·∫°i t√≠n hi·ªáu group c∆∞a</td>
      <td>ƒêang theo d√µi</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>17</td>
      <td>Press</td>
      <td>B·ªô ƒëo m·∫≠t th·∫£m Sicoscan</td>
      <td>Kh√¥ng ƒëo ƒë∆∞·ª£c</td>
      <td>10/9/2025</td>
      <td></td>
      <td>Reset l·∫°i b·ªô ƒëo</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>18</td>
      <td>Press</td>
      <td>Motor c∆∞a c·∫Øt ngang 52142M01</td>
      <td>Kh√¥ng ho·∫°t ƒë·ªông</td>
      <td>10/9/2025</td>
      <td></td>
      <td>k·∫πt v√°n, trip CB. ƒê√£ reset l·∫°i CB</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>19</td>
      <td>Press</td>
      <td>C∆∞a c·∫Øt ngang s·ªë 3 52143M01</td>
      <td>B√°o l·ªói m·∫•t v·ªã tr√≠ n√¢ng h·∫°</td>
      <td>10/10/2025</td>
      <td></td>
      <td>C∆∞a r√∫t l√™n ch·∫≠m, ch·ªânh l·∫°i valve ti·∫øt l∆∞u xilanh</td>
      <td>Ch·ªânh sai h∆∞·ªõng valve ti·∫øt l∆∞u n√™n r√∫t ch·∫≠m</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>20</td>
      <td>Press</td>
      <td>C∆∞a c·∫Øt ngang s·ªë 3 52143M01</td>
      <td>B√°o l·ªói "52143Y90 Diagonal Saw 3 Safety Valve Check tripped"</td>
      <td>10/10/2025</td>
      <td></td>
      <td>k√≠ch tay valve kh√≠ n√©n 52143Y90 nhi·ªÅu l·∫ßn, reset l·∫°i t√≠n hi·ªáu</td>
      <td>Valve b·ªã k·∫πt</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>21</td>
      <td>Press</td>
      <td>B·ªô ƒëo m·∫≠t ƒë·ªô th·∫£m Sicoscan</td>
      <td>Kh√¥ng ho·∫°t ƒë·ªông</td>
      <td>10/10/2025</td>
      <td></td>
      <td>Reset l·∫°i b·ªô ƒëo</td>
      <td>L·ªói th∆∞·ªùng xu·∫•t hi·ªán</td>
      <td>ƒêang theo d√µi</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>22</td>
      <td>Sanding</td>
      <td>Tr·∫°m c·∫•p v√°n v√†o m√°y ch√†</td>
      <td>B√°o l·ªói safety</td>
      <td>10/5/2025</td>
      <td></td>
      <td>Thanh safety b√†n n√¢ng tr·∫°m c·∫•p v√°n b·ªã r·ªõt ra, ƒë√£ gia c·ªë l·∫°i thanh safety, reset l·∫°i tr·∫°m</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>23</td>
      <td>Sanding</td>
      <td>Valve tracking m√°y ch√† nh√°m s·ªë 6</td>
      <td>Kh√¥ng ho·∫°t ƒë·ªông</td>
      <td>10/6/2025</td>
      <td></td>
      <td>Thay valve m·ªõi</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>24</td>
      <td>Woodroom</td>
      <td>Bi·∫øn t·∫ßn 107M11</td>
      <td>B√°o l·ªói DC Bus Overvoltage</td>
      <td>10/7/2025</td>
      <td></td>
      <td>Ki·ªÉm tra ƒëo motor v√† bi·∫øn t·∫ßn b√¨nh th∆∞·ªùng, reset l·∫°i t√≠n hi·ªáu</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>25</td>
      <td>Woodroom</td>
      <td>Motor Infeed chipper 1</td>
      <td>B·ªã trip soft starter reset kh√¥ng h·∫øt</td>
      <td>10/7/2025</td>
      <td></td>
      <td>D√¢y ƒë·ªông l·ª±c b·ªã ƒë·ª©t. ƒê√£ ƒë·∫•u n·ªëi l·∫°i</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>26</td>
      <td>Woodroom</td>
      <td>C√≤i b√°o metan chipper 1</td>
      <td>Kh√¥ng ho·∫°t ƒë·ªông</td>
      <td>10/7/2025</td>
      <td></td>
      <td>B·ªã ƒë·ª©t d√¢y. ƒê√£ h√†n l·∫°i d√¢y</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>27</td>
      <td>Woodroom</td>
      <td>Bi·∫øn t·∫ßn 107M11</td>
      <td>B√°o l·ªói DC Bus Overvoltage</td>
      <td>10/7/2025</td>
      <td></td>
      <td>ƒê·∫ßu n·ªëi d√¢y ƒë·ªông l·ª±c ƒë·∫•u n·ªëi v√†o terminal b·ªã l·ªèng ƒë√£ si·∫øt l·∫°i v√† reset l·∫°i bi·∫øn t·∫ßn</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>28</td>
      <td>Woodroom</td>
      <td>M√°y m√†i dao</td>
      <td>Kh√¥ng ho·∫°t ƒë·ªông</td>
      <td>10/8/2025</td>
      <td></td>
      <td>ƒê·ª©t c·∫ßu ch√¨, ƒë√£ thay c·∫ßu ch√¨ m·ªõi</td>
      <td>Kh√¥ng</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>29</td>
      <td>Woodroom</td>
      <td>Bi·∫øn t·∫ßn 107M11</td>
      <td>B√°o l·ªói DC bus Overvoltage</td>
      <td>10/9/2025</td>
      <td></td>
      <td>Reset l·∫°i bi·∫øn t·∫ßn</td>
      <td>C√†i th√¥ng s·ªë bi·∫øn t·∫ßn s·∫µn s√†ng thay th·∫ø</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
  </tbody>
</table></div>

  </div>
</div>

<!-- =============== TAB MECHANICAL =============== -->
<div id="mechanical" style="display:none;">
  <div class="dash-box">
    <h4>‚öôÔ∏è Mechanical - Danh s√°ch thi·∫øt b·ªã</h4>

    <div class="table-wrapper mt-3" id="mechanicalTable"><table border="1" class="dataframe table table-sm table-bordered align-middle">
  <thead>
    <tr style="text-align: right;">
      <th>STT</th>
      <th>Khu v·ª±c</th>
      <th>Thi·∫øt b·ªã</th>
      <th>T√¨nh tr·∫°ng</th>
      <th>Th·ªùi gian</th>
      <th>H√¨nh ·∫£nh</th>
      <th>ƒê√°nh gi√°</th>
      <th>K·∫ø ho·∫°ch</th>
      <th>Tr·∫°ng th√°i</th>
      <th>Ghi ch√∫</th>
      <th>T·ªìn ƒë·ªçng</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Woodroom</td>
      <td>V√≠t t·∫£i 107</td>
      <td>c√°nh hi·ªán t·∫°i c√≥ hi·ªán t∆∞·ª£ng m√≤n m·ªèng v·ªã tr√≠ d√≤ng li·ªáu ƒë·ªï v√†o, V·ªé V√çT B·ªä M√íN</td>
      <td>40-44</td>
      <td><div class="img-cell"><img src="https://drive.google.com/uc?id=1nH6QUcNFy9MAcBpZPuKiud_CWsdTkqfp" class="img-thumb" /></div></td>
      <td>PKTBT theo d√µi v·ªã tr√≠ c√°ng v√† ƒëang ƒë·∫∑t d·ª± ph√≤ng</td>
      <td>d·ª± ki·∫øn cu·ªëi 2025 thay th·∫ø</td>
      <td>ƒêang theo d√µi</td>
      <td>NaN</td>
      <td>x</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Woodroom</td>
      <td>v√≠t t·∫£i 1221</td>
      <td>c√°nh hi·ªán t·∫°i c√≥ hi·ªán t∆∞·ª£ng m√≤n m·ªèng v·ªã tr√≠ d√≤ng li·ªáu ƒë·ªï v√†o</td>
      <td>40-44</td>
      <td><div class="img-cell"><img src="https://drive.google.com/uc?id=1MdSsHGwL2QoOP9USRCi7tpdSNRIOIqXK" class="img-thumb" /></div></td>
      <td>PKTBT theo d√µi v·ªã tr√≠ c√°ng v√† ƒëang ƒë·∫∑t d·ª± ph√≤ng</td>
      <td>d·ª± ki·∫øn cu·ªëi 2025 thay th·∫ø</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td>x</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Refiner</td>
      <td>V√çT T·∫¢I 2206</td>
      <td>TR·ª§C M√íN V√Ä C√ÅNH CONG V√äNH</td>
      <td>46</td>
      <td><div class="img-cell"><img src="https://drive.google.com/uc?id=1fyUvWGxa3vJ6hleXMlpML1gVZeo0n73X" class="img-thumb" /></div></td>
      <td>C·∫¶N ƒê·∫∂T D·ª∞ PH√íNG TR·ª§C M·ªöI</td>
      <td>NaN</td>
      <td>ƒêang theo d√µi</td>
      <td>NaN</td>
      <td>x</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Refiner</td>
      <td>ƒê∆∞·ªùng ·ªëng kh√≠ n√©n 2101, 2102</td>
      <td>b·ªã h∆∞ h·ªèng</td>
      <td>2/8/2025</td>
      <td><div class="img-cell"><img src="https://drive.google.com/uc?id=1GwTjbzDKEtZf_gk5Q73MRyKdaRBd3aAD" class="img-thumb" /></div></td>
      <td>gia c√¥ng thay th·∫ø ƒë∆∞·ªùng √¥ngs m·ªõi</td>
      <td>NaN</td>
      <td>Ch∆∞a ho√†n th√†nh</td>
      <td>NaN</td>
      <td>x</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Energy Plant</td>
      <td>Chimney stack</td>
      <td>Rƒ© s√©t v√† c√°c ch√¢n khung k·∫øt c·∫•u m·ª•c</td>
      <td>NaN</td>
      <td></td>
      <td>H√†n gia c·ªë v√† b·ªçc l·∫°i b·∫£o √¥n</td>
      <td>k·∫ø ho·∫°ch nƒÉm 2025</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>6</td>
      <td>Energy Plant</td>
      <td>Measunring</td>
      <td>b·ªã r√≤ r·ªâ n∆∞·ªõc</td>
      <td>13/07/2025</td>
      <td><div class="img-cell"><img src="https://drive.google.com/uc?id=11d5MNOq6Uxxk0yOa8BHfldkVtC305dza" class="img-thumb" /></div></td>
      <td>L√™n k·∫ø ho·∫°ch x·ª≠ l√≠ d·ª´ng d√†i</td>
      <td>NaN</td>
      <td>ƒêang theo d√µi</td>
      <td>NaN</td>
      <td>x</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Energy Plant</td>
      <td>Feeding conveyor \n7380</td>
      <td>S√†ng thao t√°c b√™n tr√°i b·ªã m·ª•c t·ª´ ƒë·∫ßu ph√≠a tr√™n d√†i \nxu·ªëng d∆∞·ªõi</td>
      <td>NaN</td>
      <td><div class="img-cell"><img src="https://drive.google.com/uc?id=1AtRp5B7K6RLLdSWQTv1YyrmARbjPEGN_" class="img-thumb" /></div></td>
      <td>Thay m·ªõi c√°c t·∫•m Rating</td>
      <td>k·∫ø ho·∫°ch nƒÉm 2025</td>
      <td>ƒêang theo d√µi</td>
      <td>NaN</td>
      <td>x</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Nh√† m√°y keo</td>
      <td>ƒê∆∞·ªùng n∆∞·ªõc b∆°m cooling</td>
      <td>B·ªã m·ª•t ƒë∆∞·ªùng ·ªëng</td>
      <td>NaN</td>
      <td><div class="img-cell"><img src="https://drive.google.com/thumbnail?id=1FwMlFPfa9ZR03Y4FA9BUDvGJhpcjnRVC&sz=w1000" class="img-thumb" /></div></td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ƒêang theo d√µi</td>
      <td>NaN</td>
      <td>x</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Nh√† m√°y keo</td>
      <td>ƒê∆∞·ªùng ·ªëng x·∫£ team</td>
      <td>B·ªã m·ª•t ƒë∆∞·ªùng ·ªëng</td>
      <td>9/26/2025</td>
      <td><div class="img-cell"><img src="https://drive.google.com/thumbnail?id=1RtgAxKmj8XF-PHAE3Xrv2SZF5RF2eR3w&sz=w1000" class="img-thumb" /></div></td>
      <td>L√™n k·∫ø ho·∫°ch ki·ªÉm tra</td>
      <td>NaN</td>
      <td>ƒêang theo d√µi</td>
      <td>NaN</td>
      <td>x</td>
    </tr>
    <tr>
      <td>10</td>
      <td>Press</td>
      <td>c∆ØA BI√äN</td>
      <td>C·∫ÆT KH√îNG ƒê·∫†T</td>
      <td>5/10/2025</td>
      <td></td>
      <td>THAY TH·∫æ L∆Ø·ª†I C∆ØA D·ª∞ PH√íNG</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>11</td>
      <td>Woodroom</td>
      <td>BƒÇNG T·∫¢I 1215</td>
      <td>CON LƒÇN H∆Ø V√íNG BI</td>
      <td>6/10/2025</td>
      <td></td>
      <td>THAY TH·∫æ V√íNG BI</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>12</td>
      <td>Refiner</td>
      <td>M·ª† TRUNG T√ÇM</td>
      <td>H·∫æT TH√ôNG M·ª†</td>
      <td>6/10/2025</td>
      <td></td>
      <td>THAY TH·∫æ TH√ôNG M·ª† M·ªöI</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>13</td>
      <td>Ph·ª• tr·ª£</td>
      <td>ƒê∆Ø·ªúNG ·ªêNG CH·ªÆA CH√ÅY</td>
      <td>B·ªä M√íN TH·ª¶NG</td>
      <td>6/10/2025</td>
      <td></td>
      <td>GIA C√îNG C√ôM GIA C·ªê</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>14</td>
      <td>Energy Plant</td>
      <td>TANK D·∫¶U STEPGATE</td>
      <td>THI·∫æU D·∫¶U</td>
      <td>6/10/2025</td>
      <td></td>
      <td>CH√ÇM B·ªî SUNG 30lit</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>15</td>
      <td>Energy Plant</td>
      <td>TANK D·∫¶U MOVING FOOL</td>
      <td>THI·∫æU D·∫¶U</td>
      <td>6/10/2025</td>
      <td></td>
      <td>CH√ÇM B·ªî SUNG 60lit</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>16</td>
      <td>Refiner</td>
      <td>SABI</td>
      <td>B·ªä R√í R·ªà D·∫¶U H·ªòP S·ªê</td>
      <td>10/10/2025</td>
      <td></td>
      <td>L·∫ÆP L√äN D·ª∞ PH√íNG</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>17</td>
      <td>Woodroom</td>
      <td>TR·ªêNG B√ìC V·ªé</td>
      <td>V√ÅCH B·ªä BUNG</td>
      <td>9/10/2025</td>
      <td></td>
      <td>H√ÄN GIA C·ªê V√ÅCH</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>18</td>
      <td>Woodroom</td>
      <td>BƒÇNG T·∫¢I 1256</td>
      <td>CON LƒÇN D√ÄI H∆Ø H·ªéNG</td>
      <td>10/10/2025</td>
      <td></td>
      <td>THAY TH·∫æ CON LƒÇN D·ª∞ PH√íNG</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>19</td>
      <td>Woodroom</td>
      <td>BƒÇNG T·∫¢I 1941</td>
      <td>CON LƒÇN D√ÄI H∆Ø H·ªéNG</td>
      <td>10/10/2025</td>
      <td></td>
      <td>THAY TH·∫æ CON LƒÇN D·ª∞ PH√íNG</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>20</td>
      <td>Woodroom</td>
      <td>DAO L√ìT</td>
      <td>B·ªä G√ÉY BULONG</td>
      <td>10/10/2025</td>
      <td></td>
      <td>X·ª¨ L√ç BULONG G√ÉY</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
    <tr>
      <td>21</td>
      <td>Woodroom</td>
      <td>X√çCH 101</td>
      <td>X√çCH K√âO CH·ª¶ ƒê·ªòNG B·ªä ƒê·ª®T</td>
      <td>11/10/2025</td>
      <td></td>
      <td>N·ªêI L·∫†I X√çCH CH·ª¶ ƒê·ªòNG</td>
      <td>NaN</td>
      <td>Ho√†n th√†nh</td>
      <td>NaN</td>
      <td></td>
    </tr>
  </tbody>
</table></div>

  </div>
</div>

</div> <!-- END container-fluid -->

<!-- ======================================================
   FILTER + CHART UPDATE JS (full UI)
   ====================================================== -->
<script>
/* Data passed from Python */
const dfE_all = [{"STT": 1, "KhuVuc": "Woodroom", "ThietBi": "Chipper 1 kh√¥ng ho·∫°t ƒë·ªông", "TinhTrang": "Trip c·∫ßu ch√¨ 24V 1000-F523", "ThoiGian": "Th√°ng 4", "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/uc?id=15lHPQ4Y2TvGwVTVR6C-YgOMBl6VJVSvv\" class=\"img-thumb\" /></div>", "DanhGia": "sensor d√≤ l·ªách belt 1941S107 b·ªã ch·∫°m ch·∫≠p m·ªôt ti·∫øp ƒëi·ªÉm v·ªÅ card Safety. Hi·ªán ƒëang bypass ti·∫øp ƒëi·ªÉm l·ªói", "KeHoach": "Thay b·ªô d√≤ l√™ch belt kh√°c (b·ªô c≈© ti·∫øp ƒëi·ªÉm r·ªâ s√©t) v√† ki·ªÉm tra l·∫°i d√¢y", "TrangThai": "ƒêang theo d√µi", "GhiChu": "Ch∆∞a c√≥ v·∫≠t t∆∞", "TonDong": "x", "Tuan": 44}, {"STT": 2, "KhuVuc": "Refiner", "ThietBi": "Sensor b√°o ngh·∫πt 2420", "TinhTrang": "B√°o l·ªói t√≠n hi·ªáu nhi·ªÅu l·∫ßn", "ThoiGian": "Th√°ng 7", "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/uc?id=1UzIXUJKi4qCg2r97ZUPYap7ZC3IVaX8K\" class=\"img-thumb\" /></div>", "DanhGia": "Reset t√≠n hi·ªáu", "KeHoach": "Board c√≥ d·∫•u hi·ªáu b·ªã r·ªâ ·ªü ch√¢n linh ki·ªán, d·ª´ng m√°y ki·ªÉm tra v·ªá sinh h√†n l·∫°i ch√¢n", "TrangThai": "Ch∆∞a ho√†n th√†nh", "GhiChu": "ƒêang ƒë·ªÅ xu·∫•t mua", "TonDong": "x", "Tuan": 44}, {"STT": 3, "KhuVuc": "Energy Plant", "ThietBi": "Sensor ƒëo m·ª©c Dust Silo", "TinhTrang": "B√°o sai gi√° tr·ªã", "ThoiGian": "10/8/2025", "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/thumbnail?id=1wnFq3lr9dPEbuoq9PoibplwQm26ql_Jp&sz=w1000\" class=\"img-thumb\" /></div>", "DanhGia": "Restart l·∫°i sensor", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 44}, {"STT": 4, "KhuVuc": "Energy Plant", "ThietBi": "Sensor b√°o m·ª©c dust silo", "TinhTrang": "B√°o sai gi√° tr·ªã", "ThoiGian": "10/8/2025", "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/thumbnail?id=1LfoWT_pvDiNaBYgDtADkW1vmg-IE9mxO&sz=w1000\" class=\"img-thumb\" /></div>", "DanhGia": "Restart l·∫°i sensor", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 44}, {"STT": 5, "KhuVuc": "Energy Plant", "ThietBi": "Xilanh r√∫t li·ªáu Dust Silo", "TinhTrang": "Kh√¥ng ho·∫°t ƒë·ªông", "ThoiGian": "10/8/2025", "HinhAnh": "", "DanhGia": "V·ªá sinh ti·∫øp ƒëi·ªÉm c√¥ng t·∫Øc h√†nh tr√¨nh", "KeHoach": "Kh√¥ng", "TrangThai": "ƒêang th·ª±c hi·ªán", "GhiChu": NaN, "TonDong": "", "Tuan": 44}, {"STT": 6, "KhuVuc": "Press", "ThietBi": "Stack 5280", "TinhTrang": "ƒê·ªÖm sai s·ªë l∆∞·ª£ng v√°n", "ThoiGian": "10/4/2025", "HinhAnh": "", "DanhGia": "Sensor 5280B16 t√≠n hi·ªáu ch·∫≠p ch·ªùn, ƒë√£ ch·ªânh l·∫°i ƒë·ªô nh·∫°y sensor", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 44}, {"STT": 7, "KhuVuc": "Press", "ThietBi": "B·ªô ƒëo m·∫≠t ƒë·ªô th·∫£m SicoScan", "TinhTrang": "B·ªã ƒë∆° kh√¥ng ƒëo ƒë∆∞·ª£c", "ThoiGian": "10/4/2025", "HinhAnh": "", "DanhGia": "Reset l·∫°i b·ªô ƒëo", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 44}, {"STT": 8, "KhuVuc": "Press", "ThietBi": "M√†n h√¨nh v·∫≠n h√†nh OP3", "TinhTrang": "B·ªã ƒë∆° kh√¥ng thao t√°c ƒë∆∞·ª£c", "ThoiGian": "10/6/2025", "HinhAnh": "", "DanhGia": "Reset l·∫°i ngu·ªìn", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 44}, {"STT": 9, "KhuVuc": "Press", "ThietBi": "Stack 5280", "TinhTrang": "B√°o l·ªói safety", "ThoiGian": "10/6/2025", "HinhAnh": "", "DanhGia": "B·ª•i v√°n l√≥t l√†m nhi·ªÖu t√≠n hi·ªáu, v·ªá sinh reset l·∫°i t√≠n hi·ªáu", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 44}, {"STT": 10, "KhuVuc": "Press", "ThietBi": "B·ªô ƒëo thickness v√† blister", "TinhTrang": "Kh√¥ng ƒëo ƒë∆∞·ª£c", "ThoiGian": "10/6/2025", "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/uc?id=13A5qqrHXOXxJYeXpzGg81oKKGGQ5nSzI\" class=\"img-thumb\" /></div>", "DanhGia": "T√≠n hi·ªáu sensor b√¨nh th∆∞·ªùng, v·ªá sinh b·ªÅ m·∫∑t sensor, reset l·∫°i t√≠n hi·ªáu", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 44}, {"STT": 11, "KhuVuc": "Press", "ThietBi": "B·ªô ƒëo m·∫≠t ƒë·ªô th·∫£m Sicoscan", "TinhTrang": "B·ªã ƒë∆° kh√¥ng ƒëo ƒë∆∞·ª£c", "ThoiGian": "10/6/2025", "HinhAnh": "", "DanhGia": "Reset l·∫°i b·ªô ƒëo", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 12, "KhuVuc": "Press", "ThietBi": "Sensor d√≤ tia l·ª≠a Minimax outfeed", "TinhTrang": "B·ªã v√°n ƒë√¢m v√†o ƒë·ª©t d√¢y", "ThoiGian": "10/6/2025", "HinhAnh": "", "DanhGia": "N·ªëi l·∫°i d√¢y sensor", "KeHoach": "Ki·ªÉm tra thay d√¢y m·ªõi do b·ªã v√°n ƒë√¢m ƒë·ª©t d√¢y nhi·ªÅu l·∫ßn", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 13, "KhuVuc": "Press", "ThietBi": "B·ªô ƒëo m·∫≠t ƒë·ªô th·∫£m Sicoscan", "TinhTrang": "Kh√¥ng ho·∫°t ƒë·ªông", "ThoiGian": "10/8/2025", "HinhAnh": "", "DanhGia": "Reset l·∫°i b·ªô ƒëo", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 14, "KhuVuc": "Press", "ThietBi": "Sensor 5275B16", "TinhTrang": "T√≠n hi·ªáu ch·∫≠p ch·ªùn", "ThoiGian": "10/8/2025", "HinhAnh": "", "DanhGia": "Ch·ªânh l·∫°i ƒë·ªô nh·∫°y sensor", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 15, "KhuVuc": "Press", "ThietBi": "Stack 5280", "TinhTrang": "ƒê·∫øm sai s·ªë l∆∞·ª£ng v√°n", "ThoiGian": "10/8/2025", "HinhAnh": "", "DanhGia": "Ch·ªânh l·∫°i v·ªã tr√≠ sensor v√† ƒë·ªô nh·∫°y sensor", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 16, "KhuVuc": "Press", "ThietBi": "C∆∞a c·∫Øt ngang s·ªë 2", "TinhTrang": "B√°o l·ªói axis cut fault ", "ThoiGian": "10/8/2025", "HinhAnh": "", "DanhGia": "Ki·ªÉm tra reset l·∫°i t√≠n hi·ªáu c∆∞a", "KeHoach": "D·ª´ng m√°y ki·ªÉm tra l·∫°i t√≠n hi·ªáu group c∆∞a", "TrangThai": "ƒêang theo d√µi", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 17, "KhuVuc": "Press", "ThietBi": "B·ªô ƒëo m·∫≠t th·∫£m Sicoscan", "TinhTrang": "Kh√¥ng ƒëo ƒë∆∞·ª£c", "ThoiGian": "10/9/2025", "HinhAnh": "", "DanhGia": "Reset l·∫°i b·ªô ƒëo", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 18, "KhuVuc": "Press", "ThietBi": "Motor c∆∞a c·∫Øt ngang 52142M01", "TinhTrang": "Kh√¥ng ho·∫°t ƒë·ªông", "ThoiGian": "10/9/2025", "HinhAnh": "", "DanhGia": "k·∫πt v√°n, trip CB. ƒê√£ reset l·∫°i CB", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 19, "KhuVuc": "Press", "ThietBi": "C∆∞a c·∫Øt ngang s·ªë 3 52143M01", "TinhTrang": "B√°o l·ªói m·∫•t v·ªã tr√≠ n√¢ng h·∫°", "ThoiGian": "10/10/2025", "HinhAnh": "", "DanhGia": "C∆∞a r√∫t l√™n ch·∫≠m, ch·ªânh l·∫°i valve ti·∫øt l∆∞u xilanh", "KeHoach": "Ch·ªânh sai h∆∞·ªõng valve ti·∫øt l∆∞u n√™n r√∫t ch·∫≠m", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 20, "KhuVuc": "Press", "ThietBi": "C∆∞a c·∫Øt ngang s·ªë 3 52143M01", "TinhTrang": "B√°o l·ªói \"52143Y90 Diagonal Saw 3 Safety Valve Check tripped\"", "ThoiGian": "10/10/2025", "HinhAnh": "", "DanhGia": "k√≠ch tay valve kh√≠ n√©n 52143Y90 nhi·ªÅu l·∫ßn, reset l·∫°i t√≠n hi·ªáu", "KeHoach": "Valve b·ªã k·∫πt", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 21, "KhuVuc": "Press", "ThietBi": "B·ªô ƒëo m·∫≠t ƒë·ªô th·∫£m Sicoscan", "TinhTrang": "Kh√¥ng ho·∫°t ƒë·ªông", "ThoiGian": "10/10/2025", "HinhAnh": "", "DanhGia": "Reset l·∫°i b·ªô ƒëo", "KeHoach": "L·ªói th∆∞·ªùng xu·∫•t hi·ªán", "TrangThai": "ƒêang theo d√µi", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 22, "KhuVuc": "Sanding", "ThietBi": "Tr·∫°m c·∫•p v√°n v√†o m√°y ch√†", "TinhTrang": "B√°o l·ªói safety", "ThoiGian": "10/5/2025", "HinhAnh": "", "DanhGia": " Thanh safety b√†n n√¢ng tr·∫°m c·∫•p v√°n b·ªã r·ªõt ra, ƒë√£ gia c·ªë l·∫°i thanh safety, reset l·∫°i tr·∫°m", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 23, "KhuVuc": "Sanding", "ThietBi": "Valve tracking m√°y ch√† nh√°m s·ªë 6", "TinhTrang": "Kh√¥ng ho·∫°t ƒë·ªông", "ThoiGian": "10/6/2025", "HinhAnh": "", "DanhGia": "Thay valve m·ªõi", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 24, "KhuVuc": "Woodroom", "ThietBi": "Bi·∫øn t·∫ßn 107M11", "TinhTrang": "B√°o l·ªói DC Bus Overvoltage", "ThoiGian": "10/7/2025", "HinhAnh": "", "DanhGia": "Ki·ªÉm tra ƒëo motor v√† bi·∫øn t·∫ßn b√¨nh th∆∞·ªùng, reset l·∫°i t√≠n hi·ªáu", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 25, "KhuVuc": "Woodroom", "ThietBi": "Motor Infeed chipper 1", "TinhTrang": "B·ªã trip soft starter reset kh√¥ng h·∫øt", "ThoiGian": "10/7/2025", "HinhAnh": "", "DanhGia": "D√¢y ƒë·ªông l·ª±c b·ªã ƒë·ª©t. ƒê√£ ƒë·∫•u n·ªëi l·∫°i", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 26, "KhuVuc": "Woodroom", "ThietBi": "C√≤i b√°o metan chipper 1", "TinhTrang": "Kh√¥ng ho·∫°t ƒë·ªông", "ThoiGian": "10/7/2025", "HinhAnh": "", "DanhGia": "B·ªã ƒë·ª©t d√¢y. ƒê√£ h√†n l·∫°i d√¢y", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 45}, {"STT": 27, "KhuVuc": "Woodroom", "ThietBi": "Bi·∫øn t·∫ßn 107M11", "TinhTrang": "B√°o l·ªói DC Bus Overvoltage", "ThoiGian": "10/7/2025", "HinhAnh": "", "DanhGia": "ƒê·∫ßu n·ªëi d√¢y ƒë·ªông l·ª±c ƒë·∫•u n·ªëi v√†o terminal b·ªã l·ªèng ƒë√£ si·∫øt l·∫°i v√† reset l·∫°i bi·∫øn t·∫ßn", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 28, "KhuVuc": "Woodroom", "ThietBi": "M√°y m√†i dao", "TinhTrang": "Kh√¥ng ho·∫°t ƒë·ªông", "ThoiGian": "10/8/2025", "HinhAnh": "", "DanhGia": "ƒê·ª©t c·∫ßu ch√¨, ƒë√£ thay c·∫ßu ch√¨ m·ªõi", "KeHoach": "Kh√¥ng", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 29, "KhuVuc": "Woodroom", "ThietBi": "Bi·∫øn t·∫ßn 107M11", "TinhTrang": "B√°o l·ªói DC bus Overvoltage", "ThoiGian": "10/9/2025", "HinhAnh": "", "DanhGia": "Reset l·∫°i bi·∫øn t·∫ßn", "KeHoach": "C√†i th√¥ng s·ªë bi·∫øn t·∫ßn s·∫µn s√†ng thay th·∫ø", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}];
const dfM_all = [{"STT": 1, "KhuVuc": "Woodroom", "ThietBi": "V√≠t t·∫£i 107", "TinhTrang": "c√°nh hi·ªán t·∫°i c√≥ hi·ªán t∆∞·ª£ng m√≤n m·ªèng v·ªã tr√≠ d√≤ng li·ªáu ƒë·ªï v√†o, V·ªé V√çT B·ªä M√íN", "ThoiGian": "40-44", "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/uc?id=1nH6QUcNFy9MAcBpZPuKiud_CWsdTkqfp\" class=\"img-thumb\" /></div>", "DanhGia": "PKTBT theo d√µi v·ªã tr√≠ c√°ng v√† ƒëang ƒë·∫∑t d·ª± ph√≤ng", "KeHoach": "d·ª± ki·∫øn cu·ªëi 2025 thay th·∫ø", "TrangThai": "ƒêang theo d√µi", "GhiChu": NaN, "TonDong": "x", "Tuan": 44}, {"STT": 2, "KhuVuc": "Woodroom", "ThietBi": "v√≠t t·∫£i 1221", "TinhTrang": "c√°nh hi·ªán t·∫°i c√≥ hi·ªán t∆∞·ª£ng m√≤n m·ªèng v·ªã tr√≠ d√≤ng li·ªáu ƒë·ªï v√†o", "ThoiGian": "40-44", "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/uc?id=1MdSsHGwL2QoOP9USRCi7tpdSNRIOIqXK\" class=\"img-thumb\" /></div>", "DanhGia": "PKTBT theo d√µi v·ªã tr√≠ c√°ng v√† ƒëang ƒë·∫∑t d·ª± ph√≤ng", "KeHoach": "d·ª± ki·∫øn cu·ªëi 2025 thay th·∫ø", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "x", "Tuan": 44}, {"STT": 3, "KhuVuc": "Refiner", "ThietBi": "V√çT T·∫¢I 2206", "TinhTrang": "TR·ª§C M√íN V√Ä C√ÅNH CONG V√äNH", "ThoiGian": "46", "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/uc?id=1fyUvWGxa3vJ6hleXMlpML1gVZeo0n73X\" class=\"img-thumb\" /></div>", "DanhGia": "C·∫¶N ƒê·∫∂T D·ª∞ PH√íNG TR·ª§C M·ªöI", "KeHoach": NaN, "TrangThai": "ƒêang theo d√µi", "GhiChu": NaN, "TonDong": "x", "Tuan": 44}, {"STT": 4, "KhuVuc": "Refiner", "ThietBi": "ƒê∆∞·ªùng ·ªëng kh√≠ n√©n 2101, 2102", "TinhTrang": "b·ªã h∆∞ h·ªèng", "ThoiGian": "2/8/2025", "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/uc?id=1GwTjbzDKEtZf_gk5Q73MRyKdaRBd3aAD\" class=\"img-thumb\" /></div>", "DanhGia": "gia c√¥ng thay th·∫ø ƒë∆∞·ªùng √¥ngs m·ªõi", "KeHoach": NaN, "TrangThai": "Ch∆∞a ho√†n th√†nh", "GhiChu": NaN, "TonDong": "x", "Tuan": 44}, {"STT": 5, "KhuVuc": "Energy Plant", "ThietBi": "Chimney stack", "TinhTrang": "Rƒ© s√©t v√† c√°c ch√¢n khung k·∫øt c·∫•u m·ª•c", "ThoiGian": NaN, "HinhAnh": "", "DanhGia": "H√†n gia c·ªë v√† b·ªçc l·∫°i b·∫£o √¥n", "KeHoach": "k·∫ø ho·∫°ch nƒÉm 2025", "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 44}, {"STT": 6, "KhuVuc": "Energy Plant", "ThietBi": "Measunring", "TinhTrang": "b·ªã r√≤ r·ªâ n∆∞·ªõc", "ThoiGian": "13/07/2025", "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/uc?id=11d5MNOq6Uxxk0yOa8BHfldkVtC305dza\" class=\"img-thumb\" /></div>", "DanhGia": "L√™n k·∫ø ho·∫°ch x·ª≠ l√≠ d·ª´ng d√†i", "KeHoach": NaN, "TrangThai": "ƒêang theo d√µi", "GhiChu": NaN, "TonDong": "x", "Tuan": 45}, {"STT": 7, "KhuVuc": "Energy Plant", "ThietBi": "Feeding conveyor \n7380", "TinhTrang": "S√†ng thao t√°c b√™n tr√°i b·ªã m·ª•c t·ª´ ƒë·∫ßu ph√≠a tr√™n d√†i \nxu·ªëng d∆∞·ªõi", "ThoiGian": NaN, "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/uc?id=1AtRp5B7K6RLLdSWQTv1YyrmARbjPEGN_\" class=\"img-thumb\" /></div>", "DanhGia": "Thay m·ªõi c√°c t·∫•m Rating", "KeHoach": "k·∫ø ho·∫°ch nƒÉm 2025", "TrangThai": "ƒêang theo d√µi", "GhiChu": NaN, "TonDong": "x", "Tuan": 45}, {"STT": 8, "KhuVuc": "Nh√† m√°y keo", "ThietBi": "ƒê∆∞·ªùng n∆∞·ªõc b∆°m cooling", "TinhTrang": "B·ªã m·ª•t ƒë∆∞·ªùng ·ªëng", "ThoiGian": NaN, "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/thumbnail?id=1FwMlFPfa9ZR03Y4FA9BUDvGJhpcjnRVC&sz=w1000\" class=\"img-thumb\" /></div>", "DanhGia": NaN, "KeHoach": NaN, "TrangThai": "ƒêang theo d√µi", "GhiChu": NaN, "TonDong": "x", "Tuan": 45}, {"STT": 9, "KhuVuc": "Nh√† m√°y keo", "ThietBi": "ƒê∆∞·ªùng ·ªëng x·∫£ team", "TinhTrang": "B·ªã m·ª•t ƒë∆∞·ªùng ·ªëng", "ThoiGian": "9/26/2025", "HinhAnh": "<div class=\"img-cell\"><img src=\"https://drive.google.com/thumbnail?id=1RtgAxKmj8XF-PHAE3Xrv2SZF5RF2eR3w&sz=w1000\" class=\"img-thumb\" /></div>", "DanhGia": "L√™n k·∫ø ho·∫°ch ki·ªÉm tra", "KeHoach": NaN, "TrangThai": "ƒêang theo d√µi", "GhiChu": NaN, "TonDong": "x", "Tuan": 45}, {"STT": 10, "KhuVuc": "Press", "ThietBi": "c∆ØA BI√äN", "TinhTrang": "C·∫ÆT KH√îNG ƒê·∫†T", "ThoiGian": "5/10/2025", "HinhAnh": "", "DanhGia": "THAY TH·∫æ L∆Ø·ª†I C∆ØA D·ª∞ PH√íNG", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 11, "KhuVuc": "Woodroom", "ThietBi": "BƒÇNG T·∫¢I 1215", "TinhTrang": "CON LƒÇN H∆Ø V√íNG BI", "ThoiGian": "6/10/2025", "HinhAnh": "", "DanhGia": "THAY TH·∫æ V√íNG BI", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 12, "KhuVuc": "Refiner", "ThietBi": "M·ª† TRUNG T√ÇM", "TinhTrang": "H·∫æT TH√ôNG M·ª†", "ThoiGian": "6/10/2025", "HinhAnh": "", "DanhGia": "THAY TH·∫æ TH√ôNG M·ª† M·ªöI", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 13, "KhuVuc": "Ph·ª• tr·ª£", "ThietBi": "ƒê∆Ø·ªúNG ·ªêNG CH·ªÆA CH√ÅY", "TinhTrang": "B·ªä M√íN TH·ª¶NG", "ThoiGian": "6/10/2025", "HinhAnh": "", "DanhGia": "GIA C√îNG C√ôM GIA C·ªê", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 14, "KhuVuc": "Energy Plant", "ThietBi": "TANK D·∫¶U STEPGATE", "TinhTrang": "THI·∫æU D·∫¶U", "ThoiGian": "6/10/2025", "HinhAnh": "", "DanhGia": "CH√ÇM B·ªî SUNG 30lit", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 15, "KhuVuc": "Energy Plant", "ThietBi": "TANK D·∫¶U MOVING FOOL", "TinhTrang": "THI·∫æU D·∫¶U", "ThoiGian": "6/10/2025", "HinhAnh": "", "DanhGia": "CH√ÇM B·ªî SUNG 60lit ", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 16, "KhuVuc": "Refiner", "ThietBi": "SABI", "TinhTrang": "B·ªä R√í R·ªà D·∫¶U H·ªòP S·ªê", "ThoiGian": "10/10/2025", "HinhAnh": "", "DanhGia": "L·∫ÆP L√äN D·ª∞ PH√íNG", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 17, "KhuVuc": "Woodroom", "ThietBi": "TR·ªêNG B√ìC V·ªé", "TinhTrang": "V√ÅCH B·ªä BUNG", "ThoiGian": "9/10/2025", "HinhAnh": "", "DanhGia": "H√ÄN GIA C·ªê V√ÅCH", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 18, "KhuVuc": "Woodroom", "ThietBi": "BƒÇNG T·∫¢I 1256", "TinhTrang": "CON LƒÇN D√ÄI H∆Ø H·ªéNG", "ThoiGian": "10/10/2025", "HinhAnh": "", "DanhGia": "THAY TH·∫æ CON LƒÇN D·ª∞ PH√íNG", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 19, "KhuVuc": "Woodroom", "ThietBi": "BƒÇNG T·∫¢I 1941", "TinhTrang": "CON LƒÇN D√ÄI H∆Ø H·ªéNG", "ThoiGian": "10/10/2025", "HinhAnh": "", "DanhGia": "THAY TH·∫æ CON LƒÇN D·ª∞ PH√íNG", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 20, "KhuVuc": "Woodroom", "ThietBi": "DAO L√ìT", "TinhTrang": "B·ªä G√ÉY BULONG", "ThoiGian": "10/10/2025", "HinhAnh": "", "DanhGia": "X·ª¨ L√ç BULONG G√ÉY", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}, {"STT": 21, "KhuVuc": "Woodroom", "ThietBi": "X√çCH 101", "TinhTrang": "X√çCH K√âO CH·ª¶ ƒê·ªòNG B·ªä ƒê·ª®T", "ThoiGian": "11/10/2025", "HinhAnh": "", "DanhGia": "N·ªêI L·∫†I X√çCH CH·ª¶ ƒê·ªòNG", "KeHoach": NaN, "TrangThai": "Ho√†n th√†nh", "GhiChu": NaN, "TonDong": "", "Tuan": 46}];

/* Helper: build unique weeks and populate select */
(function populateWeeks(){
  try {
    const sel = document.getElementById('weekSelect');
    const weeks = Array.from(new Set(dfE_all.map(r=>String(r.Tuan)).concat(dfM_all.map(r=>String(r.Tuan))).filter(x=>x && x!=='nan')));
    weeks.sort((a,b)=> (isNaN(a)?a:parseFloat(a)) - (isNaN(b)?b:parseFloat(b)));
    weeks.forEach(w=>{
      const o = document.createElement('option');
      o.value = w; o.text = w; sel.appendChild(o);
    });
  } catch(e){ console.warn('populateWeeks failed', e); }
})();

/* When week changes */
function onWeekChange(){
  const w = document.getElementById('weekSelect').value;
  const dfE = (w==='ALL') ? dfE_all : dfE_all.filter(r=>String(r.Tuan) === String(w));
  const dfM = (w==='ALL') ? dfM_all : dfM_all.filter(r=>String(r.Tuan) === String(w));
  updateKPI('e', dfE);
  updateKPI('m', dfM);
  updateIssue('e', dfE);
  updateIssue('m', dfM);
  updateCharts(dfE, 'pie_e_div', 'bar_e_div');
  updateCharts(dfM, 'pie_m_div', 'bar_m_div');
  // üîΩ C·∫≠p nh·∫≠t b·∫£ng d·ªØ li·ªáu ·ªü tab Electrical / Mechanical
  updateCharts(dfE, 'pie_e_div', 'bar_e_div');
  updateCharts(dfM, 'pie_m_div', 'bar_m_div');
  updateDataTables(dfE, dfM); // ‚úÖ g·ªçi v·∫Ω l·∫°i b·∫£ng d·ªØ li·ªáu
  highlightCellsBgOnly(); // ‚úÖ t√¥ l·∫°i m√†u khi ƒë·ªïi tu·∫ßn
}

/* Update KPI table (replace tbody content) */
function updateKPI(type, rows){
  const id = type==='e' ? 'kpi_e_table' : 'kpi_m_table';
  const tbody = document.querySelector(`#${id} tbody`);
  if(!tbody) return;

  // Danh s√°ch tr·∫°ng th√°i c·ªë ƒë·ªãnh (b·ªè "Kh√¥ng r√µ")
  const allStatuses = ['Ho√†n th√†nh','ƒêang theo d√µi','ƒêang th·ª±c hi·ªán','Ch∆∞a ho√†n th√†nh'];

  // ƒê·∫øm s·ªë l∆∞·ª£ng
  const map = {};
  rows.forEach(r=>{
    const s = r.TrangThai ? r.TrangThai.trim() : '';
    if (!s) return; // b·ªè qua d√≤ng kh√¥ng c√≥ tr·∫°ng th√°i
    map[s] = (map[s] || 0) + 1;
  });
  const total = rows.length;

  // D·ª±ng b·∫£ng lu√¥n ƒë·ªß c√°c tr·∫°ng th√°i
  let html = '';
  allStatuses.forEach(k=>{
    const v = map[k] || 0;
    const pct = total>0 ? (v/total*100).toFixed(1) : 0;
    html += `<tr><td>${k}</td><td>${v}</td><td>${pct}%</td></tr>`;
  });

  html += `<tr><td><b>T·ªïng</b></td><td colspan="2"><b>${total}</b></td></tr>`;
  tbody.innerHTML = html;
}

/* Update Issue summary */
function updateIssue(type, rows){
  const id = type==='e' ? 'issue_e' : 'issue_m';
  const el = document.getElementById(id);
  if(!el) return;

  // L·∫•y danh s√°ch t·∫•t c·∫£ khu v·ª±c c√≥ th·ªÉ c√≥ trong to√†n b·ªô d·ªØ li·ªáu
  const allRows = (type==='e') ? dfE_all : dfM_all;
  const allAreas = Array.from(new Set(allRows.map(r => r.KhuVuc || ''))).filter(a=>a!=='');
  allAreas.sort();

  // Gom d·ªØ li·ªáu theo khu v·ª±c hi·ªán t·∫°i
  const area = {};
  rows.forEach(r=>{
    const kv = r.KhuVuc || '';
    const td = (String(r.TonDong||'')).toLowerCase().includes('x') ? 1 : 0;
    if(!area[kv]) area[kv] = {sol:0, ton:0};
    area[kv].sol++;
    area[kv].ton += td;
  });

  // Sinh b·∫£ng v·ªõi gi√° tr·ªã 0 cho khu v·ª±c kh√¥ng c√≥ issue
  let html = "<table class='summary-table'><tr><th>Khu v·ª±c</th><th>S·ªë l∆∞·ª£ng</th><th>T·ªìn ƒë·ªçng</th></tr>";
  allAreas.forEach(k=>{
    const v = area[k] || {sol:0, ton:0};
    const tdcolor = v.ton>0 ? " style='color:red;font-weight:600;'" : "";
    html += `<tr><td>${k}</td><td>${v.sol}</td><td${tdcolor}>${v.ton}</td></tr>`;
  });
  const totalSol = allAreas.reduce((s,k)=>s+(area[k]?.sol||0),0);
  const totalTon = allAreas.reduce((s,k)=>s+(area[k]?.ton||0),0);
  html += `<tr><td><b>T·ªïng</b></td><td><b>${totalSol}</b></td><td><b style='color:red'>${totalTon}</b></td></tr></table>`;
  el.innerHTML = html;
}

/* Draw/Update charts from rows (simple agg) */
function updateCharts(rows, pieDivId, barDivId){
  try {
    // --- aggregate theo KhuVuc cho bar chart ---
    const agg = {};
    rows.forEach(r=>{
      const k = r.KhuVuc || 'Unknown';
      if(!agg[k]) agg[k] = { sol:0, ton:0 };
      agg[k].sol++;
      if(String(r.TonDong||'').toLowerCase().includes('x')) agg[k].ton++;
    });

    let labels = Object.keys(agg);
    let sol = labels.map(k => agg[k].sol);
    let ton = labels.map(k => agg[k].ton);

    // N·∫øu kh√¥ng c√≥ d·ªØ li·ªáu, t·∫°o 1 placeholder ƒë·ªÉ tr√°nh l·ªói Plotly
    if(labels.length === 0){
      labels = ['-'];
      sol = [0];
      ton = [0];
    }

    // --- Bar chart (2 traces, group) ---
    const barTraces = [
      {
        x: sol,
        y: labels,
        name: 'S·ªë l∆∞·ª£ng',
        type: 'bar',
        orientation: 'h',
        marker: { color: '#4A90E2' },
        text: sol.map(v => (v === 0 ? '' : v.toString())),
        textposition: 'outside',
        textfont: { size: 11, color: 'black' }, // ch·ªØ nh·ªè h∆°n
        cliponaxis: false
      },
      {
        x: ton,
        y: labels,
        name: 'T·ªìn ƒë·ªçng',
        type: 'bar',
        orientation: 'h',
        marker: { color: '#D9534F' },
        text: ton.map(v => (v === 0 ? '' : v.toString())),
        textposition: 'outside',
        textfont: { size: 11, color: 'black' },
        cliponaxis: false
      }
    ];

    // T√≠nh max safe ƒë·ªÉ th√™m kho·∫£ng tr·ªëng b√™n ph·∫£i (tr√°nh c·∫Øt nh√£n)
    const maxVal = Math.max(...(sol.length?sol:[0]), ...(ton.length?ton:[0]), 5);
    const barLayout = {
  barmode: 'group',
  height: 240,
  width: 380,
  autosize: false,
  margin: { t: 20, b: 30, l: 120, r: 70 },
  legend: { orientation: 'h', y: -0.25 },
  xaxis: {
    automargin: false,
    range: [0, maxVal * 1.2],
    showticklabels: false, // ·∫©n nh√£n tr·ª•c
    showgrid: false,       // ·∫©n l∆∞·ªõi chia c·ªôt
    zeroline: false        // ·∫©n ƒë∆∞·ªùng 0
  },
  yaxis: { automargin: false, tickfont: { size: 11 } },
  bargap: 0.35,
  uniformtext: { mode: 'show', minsize: 11 }
};

    // V·∫Ω bar chart (v·ªõi displayModeBar t·∫Øt)
    Plotly.react(barDivId, barTraces, barLayout, {displayModeBar:false});

    // --- Pie: aggregate theo TrangThai ---
    const statusAgg = {};
    rows.forEach(r=>{
      const st = (r.TrangThai || 'Kh√¥ng r√µ').toString();
      statusAgg[st] = (statusAgg[st] || 0) + 1;
    });

    const preferred = ['Ho√†n th√†nh','ƒêang theo d√µi','ƒêang th·ª±c hi·ªán','Ch∆∞a ho√†n th√†nh','Kh√¥ng r√µ'];
    const pieLabels = [];
    const pieValues = [];
    const pieColors = [];

    const colorMap = {
      'Ho√†n th√†nh': '#4CAF50',
      'ƒêang theo d√µi': '#F5C242',
      'ƒêang th·ª±c hi·ªán': '#4A90E2',
      'Ch∆∞a ho√†n th√†nh': '#D9534F',
      'Kh√¥ng r√µ': '#95A5A6'
    };

    preferred.forEach(k=>{
      if(statusAgg[k]){
        pieLabels.push(k);
        pieValues.push(statusAgg[k]);
        pieColors.push(colorMap[k]||'#95A5A6');
        delete statusAgg[k];
      }
    });
    Object.keys(statusAgg).forEach(k=>{
      pieLabels.push(k);
      pieValues.push(statusAgg[k]);
      pieColors.push(colorMap[k]||'#95A5A6');
    });

    const pieTrace = [{
      labels: pieLabels,
      values: pieValues,
      type: 'pie',
      hole: 0.4,
      textinfo: 'percent',
      textposition: 'outside',
      marker: { colors: pieColors, line: { color: '#fff', width: 1 } },
      hoverinfo: 'label+value+percent'
    }];

    const pieLayout = {
      height: 220,
      width: 280,
      autosize: false,
      margin: { t: 30, b: 30, l: 30, r: 30 },
      showlegend: true,
      legend: {
        orientation: 'h',
        x: 0.5,
        xanchor: 'center',
        y: -0.25
      }
    };

    Plotly.react(pieDivId, pieTrace, pieLayout, {displayModeBar:false});
  } catch(e){
    console.warn('updateCharts failed', e);
  }
}

/* L·ªçc d·ªØ li·ªáu trong b·∫£ng Electrical & Mechanical theo tu·∫ßn */
function filterDataTables(selectedWeek){
  ['electrical','mechanical'].forEach(tab => {
    const wrapper = document.querySelector(`#${tab} .table-wrapper`);
    if (!wrapper) return;

    const table = wrapper.querySelector('table');
    if (!table) return;

    const rows = table.querySelectorAll('tbody tr');
    rows.forEach(r => {
      if (selectedWeek === 'ALL') {
        r.style.display = ''; // hi·ªán l·∫°i to√†n b·ªô
        return;
      }
      const cells = Array.from(r.querySelectorAll('td'));
      // t√¨m c·ªôt n√†o c√≥ ch·ªØ ‚ÄúTu·∫ßn‚Äù ho·∫∑c gi√° tr·ªã ch·ª©a s·ªë tu·∫ßn ƒë∆∞·ª£c ch·ªçn
      const matchWeek = cells.some(td => {
        const text = td.innerText.trim().toLowerCase();
        return text.includes(selectedWeek.toLowerCase()) ||
               text.includes('tu·∫ßn ' + selectedWeek) ||
               text.includes('w' + selectedWeek);
      });
      r.style.display = matchWeek ? '' : 'none';
    });
  });
}

// C·∫≠p nh·∫≠t 2 b·∫£ng d·ªØ li·ªáu Electrical & Mechanical
function updateDataTables(dfE, dfM) {
  renderTable('electricalTable', dfE);
  renderTable('mechanicalTable', dfM);
}

// H√†m render b·∫£ng d√πng l·∫°i code hi·ªán c√≥
function renderTable(containerId, data) {
  const container = document.getElementById(containerId);
  if (!container) return;

  if (!data || data.length === 0) {
    container.innerHTML = '<p style="text-align:center;color:#999;">Kh√¥ng c√≥ d·ªØ li·ªáu cho tu·∫ßn n√†y</p>';
    return;
  }

  // √Ånh x·∫° header sang ti·∫øng Vi·ªát
  const colDisplayMap = {
    'STT': 'STT',
    'KhuVuc': 'Khu v·ª±c',
    'ThietBi': 'Thi·∫øt b·ªã',
    'TinhTrang': 'T√¨nh tr·∫°ng',
    'ThoiGian': 'Th·ªùi gian',
    'HinhAnh': 'H√¨nh ·∫£nh',
    'DanhGia': 'ƒê√°nh gi√° x·ª≠ l√Ω',
    'KeHoach': 'K·∫ø ho·∫°ch',
    'TrangThai': 'Tr·∫°ng th√°i',
    'GhiChu': 'Ghi ch√∫',
    'TonDong': 'T·ªìn ƒë·ªçng',
    'Tuan': 'Tu·∫ßn'
  };

  // Gi·ªØ nguy√™n t·∫•t c·∫£ c·ªôt h·ª£p l·ªá, ch·ªâ ·∫©n c·ªôt "Tuan" (Tu·∫ßn)
  const cols = Object.keys(data[0]).filter(c => c in colDisplayMap && c.toLowerCase() !== 'tuan');

  let html = '<div class="table-wrapper"><table class="table table-sm table-bordered align-middle"><thead><tr>';
  html += cols.map(c => `<th>${colDisplayMap[c]}</th>`).join('');
  html += '</tr></thead><tbody>';

  html += data.map(row => {
    let rowHTML = '<tr>';
    cols.forEach(c => {
      let cell = row[c] ?? '';

      // N·∫øu l√† HTML ·∫£nh th√¨ render th·∫≥ng v√† cƒÉn gi·ªØa
      if (typeof cell === 'string' && cell.toLowerCase().includes('<img')) {
  rowHTML += `<td style="text-align:center; vertical-align:middle;">${cell}</td>`;
} else {
  rowHTML += `<td style="vertical-align:middle;">${cell}</td>`;
}
    });
    rowHTML += '</tr>';
    return rowHTML;
  }).join('');

  html += '</tbody></table></div>';
  container.innerHTML = html;
  highlightCellsBgOnly(); // ‚úÖ t√¥ m√†u l·∫°i m·ªói khi b·∫£ng ƒë∆∞·ª£c render
}

/* init: run once to populate dashboard with ALL */
document.addEventListener('DOMContentLoaded', function(){
  onWeekChange();
});

/* Tab switch */
function showTab(id, btn){
  ['dashboard','electrical','mechanical'].forEach(x=>document.getElementById(x).style.display=(x===id)?'block':'none');
  document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
  if(btn) btn.classList.add('active');
}
</script>
<script>
// --- t√¥ n·ªÅn tr·∫°ng th√°i + t·ªìn ƒë·ªçng, kh√¥ng ƒë·ªïi m√†u ch·ªØ ---
function highlightCellsBgOnly() {
  // reset t·∫•t c·∫£ m√†u tr∆∞·ªõc
  document.querySelectorAll('table.table td:nth-child(9), table.table td:nth-child(11)').forEach(td => {
    td.style.backgroundColor = '';
  });

  // t√¥ c·ªôt Tr·∫°ng th√°i (th·ª© 9)
  document.querySelectorAll('table.table td:nth-child(9)').forEach(td => {
    const t = td.innerText.trim().toLowerCase();
    if (t.includes('ch∆∞a ho√†n th√†nh')) {
      td.style.backgroundColor = '#f8d7da'; // ƒë·ªè nh·∫°t
    } else if (t.includes('ƒëang th·ª±c hi·ªán')) {
      td.style.backgroundColor = '#fff9c4'; // v√†ng nh·∫°t
    } else if (t.includes('ƒëang theo d√µi')) {
      td.style.backgroundColor = '#d0ebff'; // xanh d∆∞∆°ng nh·∫°t
    }
  });

  // t√¥ c·ªôt T·ªìn ƒë·ªçng (th·ª© 11)
  document.querySelectorAll('table.table td:nth-child(11)').forEach(td => {
    const t = td.innerText.trim().toLowerCase();
    if (t === 'x' || t.includes('x')) {
      td.style.backgroundColor = '#f8d7da'; // ƒë·ªè nh·∫°t
    }
  });
}

// ch·∫°y khi load v√† sau m·ªói l·∫ßn ƒë·ªïi tu·∫ßn/render b·∫£ng
document.addEventListener('DOMContentLoaded', highlightCellsBgOnly);
</script>

</body>
</html>